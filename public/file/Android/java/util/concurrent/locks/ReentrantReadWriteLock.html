<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Thu Oct 14 17:32:53 CST 2010 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
ReentrantReadWriteLock (Test API)
</TITLE>

<META NAME="date" CONTENT="2010-10-14">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ReentrantReadWriteLock (Test API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ReentrantReadWriteLock.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../java/util/concurrent/locks/ReentrantLock.html" title="java.util.concurrent.locks 中的类"><B>上一个类</B></A>&nbsp;
&nbsp;<A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.ReadLock.html" title="java.util.concurrent.locks 中的类"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?java/util/concurrent/locks/ReentrantReadWriteLock.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="ReentrantReadWriteLock.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;<A HREF="#nested_class_summary">嵌套</A>&nbsp;|&nbsp;字段&nbsp;|&nbsp;<A HREF="#constructor_summary">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;字段&nbsp;|&nbsp;<A HREF="#constructor_detail">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
java.util.concurrent.locks</FONT>
<BR>
类 ReentrantReadWriteLock</H2>
<PRE>
<A HREF="../../../../java/lang/Object.html" title="java.lang 中的类">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="继承者 "><B>java.util.concurrent.locks.ReentrantReadWriteLock</B>
</PRE>
<DL>
<DT><B>所有已实现的接口：</B> <DD><A HREF="../../../../java/io/Serializable.html" title="java.io 中的接口">Serializable</A>, <A HREF="../../../../java/util/concurrent/locks/ReadWriteLock.html" title="java.util.concurrent.locks 中的接口">ReadWriteLock</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.152"><B>ReentrantReadWriteLock</B></A><DT>extends <A HREF="../../../../java/lang/Object.html" title="java.lang 中的类">Object</A><DT>implements <A HREF="../../../../java/util/concurrent/locks/ReadWriteLock.html" title="java.util.concurrent.locks 中的接口">ReadWriteLock</A>, <A HREF="../../../../java/io/Serializable.html" title="java.io 中的接口">Serializable</A></DL>
</PRE>

<P>
An implementation of <A HREF="../../../../java/util/concurrent/locks/ReadWriteLock.html" title="java.util.concurrent.locks 中的接口"><CODE>ReadWriteLock</CODE></A> supporting similar
 semantics to <A HREF="../../../../java/util/concurrent/locks/ReentrantLock.html" title="java.util.concurrent.locks 中的类"><CODE>ReentrantLock</CODE></A>.
 <p>This class has the following properties:

 <ul>
 <li><b>Acquisition order</b>

 <p> This class does not impose a reader or writer preference
 ordering for lock access.  However, it does support an optional
 <em>fairness</em> policy.  When constructed as fair, threads
 contend for entry using an approximately arrival-order policy. When
 the write lock is released either the longest-waiting single writer
 will be assigned the write lock, or if there is a reader waiting
 longer than any writer, the set of readers will be assigned the
 read lock.  When constructed as non-fair, the order of entry to the
 lock need not be in arrival order.  In either case, if readers are
 active and a writer enters the lock then no subsequent readers will
 be granted the read lock until after that writer has acquired and
 released the write lock.
 
 <li><b>Reentrancy</b>
 <p>This lock allows both readers and writers to reacquire read or
 write locks in the style of a <A HREF="../../../../java/util/concurrent/locks/ReentrantLock.html" title="java.util.concurrent.locks 中的类"><CODE>ReentrantLock</CODE></A>. Readers are not
 allowed until all write locks held by the writing thread have been
 released.  
 <p>Additionally, a writer can acquire the read lock - but not vice-versa.
 Among other applications, reentrancy can be useful when
 write locks are held during calls or callbacks to methods that
 perform reads under read locks. 
 If a reader tries to acquire the write lock it will never succeed.
 
 <li><b>Lock downgrading</b>
 <p>Reentrancy also allows downgrading from the write lock to a read lock,
 by acquiring the write lock, then the read lock and then releasing the
 write lock. However, upgrading from a read lock to the write lock, is
 <b>not</b> possible.

 <li><b>Interruption of lock acquisition</b>
 <p>The read lock and write lock both support interruption during lock
 acquisition.

 <li><b><A HREF="../../../../java/util/concurrent/locks/Condition.html" title="java.util.concurrent.locks 中的接口"><CODE>Condition</CODE></A> support</b>
 <p>The write lock provides a <A HREF="../../../../java/util/concurrent/locks/Condition.html" title="java.util.concurrent.locks 中的接口"><CODE>Condition</CODE></A> implementation that
 behaves in the same way, with respect to the write lock, as the 
 <A HREF="../../../../java/util/concurrent/locks/Condition.html" title="java.util.concurrent.locks 中的接口"><CODE>Condition</CODE></A> implementation provided by
 <A HREF="../../../../java/util/concurrent/locks/ReentrantLock.html#newCondition()"><CODE>ReentrantLock.newCondition()</CODE></A> does for <A HREF="../../../../java/util/concurrent/locks/ReentrantLock.html" title="java.util.concurrent.locks 中的类"><CODE>ReentrantLock</CODE></A>.
 This <A HREF="../../../../java/util/concurrent/locks/Condition.html" title="java.util.concurrent.locks 中的接口"><CODE>Condition</CODE></A> can, of course, only be used with the write lock.
 <p>The read lock does not support a <A HREF="../../../../java/util/concurrent/locks/Condition.html" title="java.util.concurrent.locks 中的接口"><CODE>Condition</CODE></A> and
 <tt>readLock().newCondition()</tt> throws 
 <tt>UnsupportedOperationException</tt>.

 <li><b>Instrumentation</b>
 <P> This class supports methods to determine whether locks
 are held or contended. These methods are designed for monitoring
 system state, not for synchronization control.
 </ul>

 <p> Serialization of this class behaves in the same way as built-in
 locks: a deserialized lock is in the unlocked state, regardless of
 its state when serialized.

 <p><b>Sample usages</b>. Here is a code sketch showing how to exploit
 reentrancy to perform lock downgrading after updating a cache (exception
 handling is elided for simplicity):
 <pre>
 class CachedData {
   Object data;
   volatile boolean cacheValid;
   ReentrantReadWriteLock rwl = new ReentrantReadWriteLock();

   void processCachedData() {
     rwl.readLock().lock();
     if (!cacheValid) {
        // upgrade lock manually
        rwl.readLock().unlock();   // must unlock first to obtain writelock
        rwl.writeLock().lock();
        if (!cacheValid) { // recheck
          data = ...
          cacheValid = true;
        }
        // downgrade lock
        rwl.readLock().lock();  // reacquire read without giving up write lock
        rwl.writeLock().unlock(); // unlock write, still hold read
     }

     use(data);
     rwl.readLock().unlock();
   }
 }
 </pre>

 ReentrantReadWriteLocks can be used to improve concurrency in some
 uses of some kinds of Collections. This is typically worthwhile
 only when the collections are expected to be large, accessed by
 more reader threads than writer threads, and entail operations with
 overhead that outweighs synchronization overhead. For example, here
 is a class using a TreeMap that is expected to be large and 
 concurrently accessed.

 <pre>
 class RWDictionary {
    private final Map&lt;String, Data&gt;  m = new TreeMap&lt;String, Data&gt;();
    private final ReentrantReadWriteLock rwl = new ReentrantReadWriteLock();
    private final Lock r = rwl.readLock();
    private final Lock w = rwl.writeLock();

    public Data get(String key) {
        r.lock(); try { return m.get(key); } finally { r.unlock(); }
    }
    public String[] allKeys() {
        r.lock(); try { return m.keySet().toArray(); } finally { r.unlock(); }
    }
    public Data put(String key, Data value) {
        w.lock(); try { return m.put(key, value); } finally { w.unlock(); }
    }
    public void clear() {
        w.lock(); try { m.clear(); } finally { w.unlock(); }
    }
 }
 </pre>
 

 <h3>Implementation Notes</h3>

 <p>A reentrant write lock intrinsically defines an owner and can
 only be released by the thread that acquired it.  In contrast, in
 this implementation, the read lock has no concept of ownership, and
 there is no requirement that the thread releasing a read lock is
 the same as the one that acquired it.  However, this property is
 not guaranteed to hold in future implementations of this class.

 <p> This lock supports a maximum of 65536 recursive write locks
 and 65536 read locks. Attempts to exceed these limits result in
 <A HREF="../../../../java/lang/Error.html" title="java.lang 中的类"><CODE>Error</CODE></A> throws from locking methods.
<P>

<P>
<DL>
<DT><B>从以下版本开始：</B></DT>
  <DD>1.5</DD>
<DT><B>作者：</B></DT>
  <DD>Doug Lea</DD>
<DT><B>另请参见：</B><DD><A HREF="../../../../serialized-form.html#java.util.concurrent.locks.ReentrantReadWriteLock">序列化表格</A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>嵌套类摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.ReadLock.html" title="java.util.concurrent.locks 中的类">ReentrantReadWriteLock.ReadLock</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The lock returned by method <A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#readLock()"><CODE>readLock()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.WriteLock.html" title="java.util.concurrent.locks 中的类">ReentrantReadWriteLock.WriteLock</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The lock returned by method <A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#writeLock()"><CODE>writeLock()</CODE></A>.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>构造方法摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#ReentrantReadWriteLock()">ReentrantReadWriteLock</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new <tt>ReentrantReadWriteLock</tt> with
 default ordering properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#ReentrantReadWriteLock(boolean)">ReentrantReadWriteLock</A></B>(boolean&nbsp;fair)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new <tt>ReentrantReadWriteLock</tt> with
 the given fairness policy.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>方法摘要</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#getQueueLength()">getQueueLength</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an estimate of the number of threads waiting to
 acquire.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#getReadLockCount()">getReadLockCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queries the number of read locks held for this lock.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#getWaitQueueLength(java.util.concurrent.locks.Condition)">getWaitQueueLength</A></B>(<A HREF="../../../../java/util/concurrent/locks/Condition.html" title="java.util.concurrent.locks 中的接口">Condition</A>&nbsp;condition)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an estimate of the number of threads waiting on the
 given condition associated with the write lock.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#getWriteHoldCount()">getWriteHoldCount</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queries the number of reentrant write holds on this lock by the
 current thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#hasQueuedThread(java.lang.Thread)">hasQueuedThread</A></B>(<A HREF="../../../../java/lang/Thread.html" title="java.lang 中的类">Thread</A>&nbsp;thread)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queries whether the given thread is waiting to acquire this
 lock.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#hasQueuedThreads()">hasQueuedThreads</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queries whether any threads are waiting to acquire.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#hasWaiters(java.util.concurrent.locks.Condition)">hasWaiters</A></B>(<A HREF="../../../../java/util/concurrent/locks/Condition.html" title="java.util.concurrent.locks 中的接口">Condition</A>&nbsp;condition)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queries whether any threads are waiting on the given condition
 associated with the write lock.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#isFair()">isFair</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if this lock has fairness set true.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#isWriteLocked()">isWriteLocked</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queries if the write lock is held by any thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#isWriteLockedByCurrentThread()">isWriteLockedByCurrentThread</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queries if the write lock is held by the current thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.ReadLock.html" title="java.util.concurrent.locks 中的类">ReentrantReadWriteLock.ReadLock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#readLock()">readLock</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the lock used for reading.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../java/lang/String.html" title="java.lang 中的类">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a string identifying this lock, as well as its lock state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.WriteLock.html" title="java.util.concurrent.locks 中的类">ReentrantReadWriteLock.WriteLock</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.html#writeLock()">writeLock</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the lock used for writing.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>从类 java.lang.<A HREF="../../../../java/lang/Object.html" title="java.lang 中的类">Object</A> 继承的方法</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../java/lang/Object.html#equals(java.lang.Object)">equals</A>, <A HREF="../../../../java/lang/Object.html#getClass()">getClass</A>, <A HREF="../../../../java/lang/Object.html#hashCode()">hashCode</A>, <A HREF="../../../../java/lang/Object.html#notify()">notify</A>, <A HREF="../../../../java/lang/Object.html#notifyAll()">notifyAll</A>, <A HREF="../../../../java/lang/Object.html#wait()">wait</A>, <A HREF="../../../../java/lang/Object.html#wait(long)">wait</A>, <A HREF="../../../../java/lang/Object.html#wait(long, int)">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>构造方法详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ReentrantReadWriteLock()"><!-- --></A><H3>
ReentrantReadWriteLock</H3>
<PRE>
public <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.165"><B>ReentrantReadWriteLock</B></A>()</PRE>
<DL>
<DD>Creates a new <tt>ReentrantReadWriteLock</tt> with
 default ordering properties.
<P>
</DL>
<HR>

<A NAME="ReentrantReadWriteLock(boolean)"><!-- --></A><H3>
ReentrantReadWriteLock</H3>
<PRE>
public <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.177"><B>ReentrantReadWriteLock</B></A>(boolean&nbsp;fair)</PRE>
<DL>
<DD>Creates a new <tt>ReentrantReadWriteLock</tt> with
 the given fairness policy.
<P>
<DL>
<DT><B>参数：</B><DD><CODE>fair</CODE> - true if this lock should use a fair ordering policy</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>方法详细信息</B></FONT></TH>
</TR>
</TABLE>

<A NAME="writeLock()"><!-- --></A><H3>
writeLock</H3>
<PRE>
public <A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.WriteLock.html" title="java.util.concurrent.locks 中的类">ReentrantReadWriteLock.WriteLock</A> <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.183"><B>writeLock</B></A>()</PRE>
<DL>
<DD><B>从接口 <CODE><A HREF="../../../../java/util/concurrent/locks/ReadWriteLock.html#writeLock()">ReadWriteLock</A></CODE> 复制的描述</B></DD>
<DD>Returns the lock used for writing.
<P>
<DD><DL>
<DT><B>指定者：</B><DD>接口 <CODE><A HREF="../../../../java/util/concurrent/locks/ReadWriteLock.html" title="java.util.concurrent.locks 中的接口">ReadWriteLock</A></CODE> 中的 <CODE><A HREF="../../../../java/util/concurrent/locks/ReadWriteLock.html#writeLock()">writeLock</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>返回：</B><DD>the lock used for writing.</DL>
</DD>
</DL>
<HR>

<A NAME="readLock()"><!-- --></A><H3>
readLock</H3>
<PRE>
public <A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.ReadLock.html" title="java.util.concurrent.locks 中的类">ReentrantReadWriteLock.ReadLock</A> <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.184"><B>readLock</B></A>()</PRE>
<DL>
<DD><B>从接口 <CODE><A HREF="../../../../java/util/concurrent/locks/ReadWriteLock.html#readLock()">ReadWriteLock</A></CODE> 复制的描述</B></DD>
<DD>Returns the lock used for reading.
<P>
<DD><DL>
<DT><B>指定者：</B><DD>接口 <CODE><A HREF="../../../../java/util/concurrent/locks/ReadWriteLock.html" title="java.util.concurrent.locks 中的接口">ReadWriteLock</A></CODE> 中的 <CODE><A HREF="../../../../java/util/concurrent/locks/ReadWriteLock.html#readLock()">readLock</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>返回：</B><DD>the lock used for reading.</DL>
</DD>
</DL>
<HR>

<A NAME="isFair()"><!-- --></A><H3>
isFair</H3>
<PRE>
public final boolean <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.888"><B>isFair</B></A>()</PRE>
<DL>
<DD>Returns true if this lock has fairness set true.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>返回：</B><DD>true if this lock has fairness set true.</DL>
</DD>
</DL>
<HR>

<A NAME="getReadLockCount()"><!-- --></A><H3>
getReadLockCount</H3>
<PRE>
public int <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.911"><B>getReadLockCount</B></A>()</PRE>
<DL>
<DD>Queries the number of read locks held for this lock. This
 method is designed for use in monitoring system state, not for
 synchronization control.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>返回：</B><DD>the number of read locks held.</DL>
</DD>
</DL>
<HR>

<A NAME="isWriteLocked()"><!-- --></A><H3>
isWriteLocked</H3>
<PRE>
public boolean <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.922"><B>isWriteLocked</B></A>()</PRE>
<DL>
<DD>Queries if the write lock is held by any thread. This method is
 designed for use in monitoring system state, not for
 synchronization control.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>返回：</B><DD><tt>true</tt> if any thread holds write lock and 
 <tt>false</tt> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="isWriteLockedByCurrentThread()"><!-- --></A><H3>
isWriteLockedByCurrentThread</H3>
<PRE>
public boolean <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.931"><B>isWriteLockedByCurrentThread</B></A>()</PRE>
<DL>
<DD>Queries if the write lock is held by the current thread.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>返回：</B><DD><tt>true</tt> if current thread holds this lock and 
 <tt>false</tt> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="getWriteHoldCount()"><!-- --></A><H3>
getWriteHoldCount</H3>
<PRE>
public int <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.943"><B>getWriteHoldCount</B></A>()</PRE>
<DL>
<DD>Queries the number of reentrant write holds on this lock by the
 current thread.  A writer thread has a hold on a lock for
 each lock action that is not matched by an unlock action.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>返回：</B><DD>the number of holds on this lock by the current thread,
 or zero if this lock is not held by the current thread.</DL>
</DD>
</DL>
<HR>

<A NAME="hasQueuedThreads()"><!-- --></A><H3>
hasQueuedThreads</H3>
<PRE>
public final boolean <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.985"><B>hasQueuedThreads</B></A>()</PRE>
<DL>
<DD>Queries whether any threads are waiting to acquire. Note that
 because cancellations may occur at any time, a <tt>true</tt>
 return does not guarantee that any other thread will ever
 acquire.  This method is designed primarily for use in
 monitoring of the system state.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>返回：</B><DD>true if there may be other threads waiting to acquire
 the lock.</DL>
</DD>
</DL>
<HR>

<A NAME="hasQueuedThread(java.lang.Thread)"><!-- --></A><H3>
hasQueuedThread</H3>
<PRE>
public final boolean <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.1000"><B>hasQueuedThread</B></A>(<A HREF="../../../../java/lang/Thread.html" title="java.lang 中的类">Thread</A>&nbsp;thread)</PRE>
<DL>
<DD>Queries whether the given thread is waiting to acquire this
 lock. Note that because cancellations may occur at any time, a
 <tt>true</tt> return does not guarantee that this thread
 will ever acquire.  This method is designed primarily for use
 in monitoring of the system state.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>参数：</B><DD><CODE>thread</CODE> - the thread
<DT><B>返回：</B><DD>true if the given thread is queued waiting for this lock.
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - if thread is null</DL>
</DD>
</DL>
<HR>

<A NAME="getQueueLength()"><!-- --></A><H3>
getQueueLength</H3>
<PRE>
public final int <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.1013"><B>getQueueLength</B></A>()</PRE>
<DL>
<DD>Returns an estimate of the number of threads waiting to
 acquire.  The value is only an estimate because the number of
 threads may change dynamically while this method traverses
 internal data structures.  This method is designed for use in
 monitoring of the system state, not for synchronization
 control.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>返回：</B><DD>the estimated number of threads waiting for this lock</DL>
</DD>
</DL>
<HR>

<A NAME="hasWaiters(java.util.concurrent.locks.Condition)"><!-- --></A><H3>
hasWaiters</H3>
<PRE>
public boolean <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.1046"><B>hasWaiters</B></A>(<A HREF="../../../../java/util/concurrent/locks/Condition.html" title="java.util.concurrent.locks 中的接口">Condition</A>&nbsp;condition)</PRE>
<DL>
<DD>Queries whether any threads are waiting on the given condition
 associated with the write lock. Note that because timeouts and
 interrupts may occur at any time, a <tt>true</tt> return does
 not guarantee that a future <tt>signal</tt> will awaken any
 threads.  This method is designed primarily for use in
 monitoring of the system state.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>参数：</B><DD><CODE>condition</CODE> - the condition
<DT><B>返回：</B><DD><tt>true</tt> if there are any waiting threads.
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../../../java/lang/IllegalMonitorStateException.html" title="java.lang 中的类">IllegalMonitorStateException</A></CODE> - if this lock 
 is not held
<DD><CODE><A HREF="../../../../java/lang/IllegalArgumentException.html" title="java.lang 中的类">IllegalArgumentException</A></CODE> - if the given condition is
 not associated with this lock
<DD><CODE><A HREF="../../../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - if condition null</DL>
</DD>
</DL>
<HR>

<A NAME="getWaitQueueLength(java.util.concurrent.locks.Condition)"><!-- --></A><H3>
getWaitQueueLength</H3>
<PRE>
public int <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.1069"><B>getWaitQueueLength</B></A>(<A HREF="../../../../java/util/concurrent/locks/Condition.html" title="java.util.concurrent.locks 中的接口">Condition</A>&nbsp;condition)</PRE>
<DL>
<DD>Returns an estimate of the number of threads waiting on the
 given condition associated with the write lock. Note that because
 timeouts and interrupts may occur at any time, the estimate
 serves only as an upper bound on the actual number of waiters.
 This method is designed for use in monitoring of the system
 state, not for synchronization control.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>参数：</B><DD><CODE>condition</CODE> - the condition
<DT><B>返回：</B><DD>the estimated number of waiting threads.
<DT><B>抛出：</B>
<DD><CODE><A HREF="../../../../java/lang/IllegalMonitorStateException.html" title="java.lang 中的类">IllegalMonitorStateException</A></CODE> - if this lock 
 is not held
<DD><CODE><A HREF="../../../../java/lang/IllegalArgumentException.html" title="java.lang 中的类">IllegalArgumentException</A></CODE> - if the given condition is
 not associated with this lock
<DD><CODE><A HREF="../../../../java/lang/NullPointerException.html" title="java.lang 中的类">NullPointerException</A></CODE> - if condition null</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public <A HREF="../../../../java/lang/String.html" title="java.lang 中的类">String</A> <A HREF="../../../../src-html/java/util/concurrent/locks/ReentrantReadWriteLock.html#line.1110"><B>toString</B></A>()</PRE>
<DL>
<DD>Returns a string identifying this lock, as well as its lock state.
 The state, in brackets, includes the String &quot;Write locks =&quot;
 follwed by the number of reentrantly held write locks, and the
 String &quot;Read locks =&quot; followed by the number of held
 read locks.
<P>
<DD><DL>
<DT><B>覆盖：</B><DD>类 <CODE><A HREF="../../../../java/lang/Object.html" title="java.lang 中的类">Object</A></CODE> 中的 <CODE><A HREF="../../../../java/lang/Object.html#toString()">toString</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>返回：</B><DD>a string identifying this lock, as well as its lock state.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="跳过导航链接"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>概述</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>软件包</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>类</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ReentrantReadWriteLock.html"><FONT CLASS="NavBarFont1"><B>使用</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>树</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>已过时</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>索引</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>帮助</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../java/util/concurrent/locks/ReentrantLock.html" title="java.util.concurrent.locks 中的类"><B>上一个类</B></A>&nbsp;
&nbsp;<A HREF="../../../../java/util/concurrent/locks/ReentrantReadWriteLock.ReadLock.html" title="java.util.concurrent.locks 中的类"><B>下一个类</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?java/util/concurrent/locks/ReentrantReadWriteLock.html" target="_top"><B>框架</B></A>  &nbsp;
&nbsp;<A HREF="ReentrantReadWriteLock.html" target="_top"><B>无框架</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>所有类</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>所有类</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  摘要：&nbsp;<A HREF="#nested_class_summary">嵌套</A>&nbsp;|&nbsp;字段&nbsp;|&nbsp;<A HREF="#constructor_summary">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_summary">方法</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
详细信息：&nbsp;字段&nbsp;|&nbsp;<A HREF="#constructor_detail">构造方法</A>&nbsp;|&nbsp;<A HREF="#method_detail">方法</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
